# 1. Цель проекта

Цель проекта - создать удобный сервис для фрилансеров (далее "Сервис"). Фрилансер сможет управлять своим портфолио (редактировать, удалять, добавлять проекты); управлять своими услугами (редактировать, удалять, добавлять позиции; прикреплять работы из портфолио); управлять контактами (редактировать, удалять, добавлять разные типы данных); управлять шаблоном отклика и генерировать его текст по введённым данным; получать новые заказы с выбранных площадок (Хабр.Фриланс, Kwork, Fl.ru) по ключевым словам (далее "Рассылка"). Платные пользователи будут иметь возможность оставлять отклики к заказам из рассылки. Сервис обязан иметь возможность импорта данных из Хабр.Фриланс, Kwork и Fl.ru; а так же из xml и json файлов, загруженными пользователем. Экспорт данных в указанные сайты и файлы (+ html, md, pdf) будет доступен только платным и пользователям. Супер пользователь будет иметь возможность автоматической публикации услуг в начале его рабочего дня в Хабр.фриланс.

# 2. Описание cервиса

Сервис будет включать в себя следующие функциональные блоки:
1. Регистрация, аутентификация и авторизация
2. Функционал для бесплатных пользователей
3. Функционал для платных пользователей
4. Функционал оплаты подписки
5. Функционал для супер пользователей

## 2.1. Типы пользователей

Сервис предусматривает три типа пользователя:
- Бесплатный пользователь (далее "Пользователь") - обычный пользователь, имеющий доступ к штатному функционалу.
- Платный пользователь (далее "Подписочник") - пользователь, который оплатил подписку, имеющий доступ к платному функционалу.
- Супер пользователь (далее "СуПользователь") - пользователь, который задаётся командой на сервере, имеющий доступ к управлению сервисом.

## 2.2. Регистрация и аутентификация
Сервис, в первой своей версии, предполагается в виде Telegram бота, поэтому регистрация новых пользователей должна происходить по полученной команде "/start" в диалог с ботом. После чего, должен запроситься номер телефона для подтверждения регистрации.

Таким образом, мы получаем следующие поля для всех пользователей:
- ID пользователя в Telegram - обязательное поле
- Номер телефона - обязательное поле
- Является ли Подписочником - обязательное поле, со стандартным значением "false"
- Является ли СуПользователем - обязательное поле, со стандартным значением "false"

Аутентификация будет происходить по ID пользователя в Telegram.

## 2.3 Функционал пользователя

Пользователь после аутентификации получает к своему бесплатному (штатному) функционалу сервиса. Он состоит из следующих блоков:
1. Редактирование Профиля Фрилансера (далее "ПроФрилансера")
2. Генерация текста отклика по введённым данным.
3. Настройка и присылание рассылки новых заказов из выбранных фриланс-площадок (Хабр.Фриланс, Kwork, Fl.ru)
4. Импорт данных из фриланс-площадок (Хабр.Фриланс, Kwork, Fl.ru) (not in mvp)

### 2.3.1 Раздел "ПроФрилансера"

В этом разделе есть 7 подразделов, который пользователь может редактировать и просматривать.
Редактирование идёт путём выбора нужного поля и отправки новых данных.

#### 2.3.1.1 Основная информация

В основной информации будут следующие поля:
- Имя - изменяемое поле, строка
- Отчество - изменяемое поле, строка
- Фамилия - изменяемое поле, строка
- Дата рождения - изменяемое поле, дата
- Пол - изменяемое поле, строка
- Страна - изменяемое поле, строка
- Город - изменяемое поле, строка
- Часовой пояс - изменяемое поле, строка
- Языки - изменяемое блок-поле, массив объектов (язык/строка, уровень/строка)
- Банковские карты - изменяемое блок-поле, массив числовых строк
- ИНН - изменяемое поле, числовая строка
- Статус самозанятого - автоматическое+неизменяемое поле, булевое значение, проверяется через ИНН

#### 2.3.1.2 Контакты

В данном разделе будут следующие поля:
- Номер телефона - подставляется тот, с которого произошла регистрация в сервисе. Должна быть реализована возможность написать дополнительный номер для бирж и использовать его. Строка | Массив строк
- E-mail - изменяемое поле, строка, сохраняется после подтверждения через присланный пароль.
- Сайт - изменяемое поле, строка
- Мессенджеры - Изменяемое блок-поле, куда добавляются в единственном экземпляре следующие типы мессенджеров, массив объектов:
    - Telegram
    - Вконтакте
    - Skype
    - ICQ
    - Jabber
    - WhatsApp
    - Viber
    - Свой тип
- Дополнительные сайты/поля - изменяемое блок-поле, куда добавляются в единственном экземпляре следующие типы сайтов, массив объектов:
    - 1С-Bitrix
    - LiveJournal user
    - Свой тип

#### 2.3.1.3 Специализация и навыки

В данном разделе будут следующие поля:
- Специализация - изменяемое блок-поле, массив строк
- Навыки - изменяемое блок-поле, массив строк

#### 2.3.1.4 Обо мне (Продающий текст)

В данном разделе будет одно поле:
- Обо мне - изменяемое поле, многострочное значение

#### 2.3.1.5 Шаблон отклика

В данном разделе будет одно поле:
- Шаблон отклика - изменяемое поле, многострочное значение
Переменные выглядят в формате форматных строк на python (handlebars) -> "Привет, {name}!"

#### 2.3.1.6 Портфолио

В данном разделе будет одно поле:
- Портфолио - изменяемое блок-поле, массив объектов (название/строка, описание работы/многострочное значение, ссылка на работу/строка, превьюшка работы/изображение)

#### 2.3.1.7 Услуги

В данном разделе будет два поля:
- Раздел услуг - изменяемое блок-поле, массив услуг
- Услуги - изменяемое блок поле, массив объектов (название услуги/строка, цена/числовое значение, валюта/строка, описание/многострочное значение, работы в портфолио/массив строк)

### 2.3.2 Генерация отклика по введённым данным.

Если пользователь не заполнил шаблон отклика в разделе "ПроФрилансера", то его перекидывает в этот самый раздел, чтобы тот это сделал.
Когда пользователь заполнит шаблон, то включится режим ввода данных, а именно тех переменных, которые пользователь сам ввёл в свой шаблон.
Переменные выглядят в формате форматных строк на python (handlebars) -> "Привет, {name}!"

### 2.3.3 Настройка и присылание рассылки новых заказов из выбранных фриланс-площадок

Пользователю предлагается настройка фильтра на каждой из площадок по ключевым словам:
- Должен присутствовать белый список слов, по которому должен прийти заказ
- Должен присутствовать чёрный список слов, по которому заказы должны исключаться, даже если присутствуют слова белого списка
- Должен присутствовать VIP-список слов, по которому заказы должны приходить вне зависимости от того, есть слова в чёрном списке или нет.

Присылание рассылок должно происходить как минимум через минуту, после появления заказа на площадке со следующим форматом:

| Имя поля             | Значение поля                                                                                                                                          |
|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| Площадка             | Хабр.Фриланс                                                                                                                                           |
| Дата и время         | 27 марта 2022, 20:16                                                                                                                                   |
| Название             | Парсер сайта с выгрузкой в excel                                                                                                                       |
| Цена                 | 5 000 руб. за проект                                                                                                                                   |
| Кол-во откликов      | 26 штук                                                                                                                                                |
| Кол-во просмотров    | 131 просмотр                                                                                                                                           |
| Краткое тех. задание | Всем привет!\n\nНеобходимо разработать парсер сайта с выгрузкой данных в excel.\nПодробное ТЗ скину откликнувшимся.\n                                  |
| Теги                 | парсер, парсинг                                                                                                                                        |
| Ссылка на автора     | https://freelance.habr.com/freelancers/Kartmen7                                                                                                        |
| Ссылка на проект     | https://freelance.habr.com/tasks/424931                                                                                                                |
